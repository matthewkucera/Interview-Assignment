This is an assignment for an interview question.  Due to time constraints refactoring was not able to be done.  I would have like to have added a generic item class, only have 3 types of items it is obvious that the if statements will get out of hand when more items are added.  Sending shipping slips and emails was just done as comments in the purchase methods of item types.

Original assignment:
How can you tame a wild (and changing) set of business rules?

Imagine you’re writing an order processing application for a large company. In the past, this company used a fairly random mixture of manual and ad-hoc automated business practices to handle orders; they now want to put all these various ways of hanadling orders together into one whole: your application. However, they (and their customers) have come to cherish the diversity of their business rules, and so they tell you that you’ll have to bring all these rules forward into the new system.
When you go in to meet the existing order entry folks, you discover that their business practices border on chaotic: no two product lines have the same set of processing rules. To make it worse, most of the rules aren’t written down: you’re often told something like "oh, Carol on the second floor handles that kind of order."
During first day of meetings, you’ve decided to focus on payments, and in particular on the processing required when a payment was received by the company. You come home, exhausted, with a legal pad full of rule snippets such as:
	•	If the payment is for a physical product, generate a packing slip for shipping.
	•	If the payment is for a book, create a duplicate packing slip for the royalty department.
	•	If the payment is for a membership, e-mail the owner and inform them of the activation/upgrade.
For the assignment please create a web app using any version of the Ruby on Rails framework you are comfortable with. There is no wrong answer; the process you take to arrive at a solution is far more important than the solution you come up with. Good luck!